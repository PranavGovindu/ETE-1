schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data_handling/data_ingestion.py
    deps:
    - path: src/data_handling/data_ingestion.py
      hash: md5
      md5: 83914f73ed147e526fe6282aed9e2faa
      size: 3938
    params:
      params.yaml:
        base.random_state: 42
        data_ingestion.sample_size: 1501
        data_ingestion.test_size: 0.2
    outs:
    - path: data/raw
      hash: md5
      md5: 08a000999a5a76f1e842cee502ddd586.dir
      size: 20172810
      nfiles: 2
  data_preprocessing:
    cmd: python src/data_handling/data_preprocessing.py
    deps:
    - path: data/raw
      hash: md5
      md5: 08a000999a5a76f1e842cee502ddd586.dir
      size: 20172810
      nfiles: 2
    - path: src/data_handling/data_preprocessing.py
      hash: md5
      md5: 22b6f8f58f50939f98ee10ca0a21da0d
      size: 2985
    params:
      params.yaml:
        data_preprocessing.lowercase: true
        data_preprocessing.remove_punctuation: true
        data_preprocessing.remove_stopwords: true
        data_preprocessing.test_path: data/raw/test.csv
        data_preprocessing.train_path: data/raw/train.csv
    outs:
    - path: data/interim
      hash: md5
      md5: e2b65a54152b0d32681a895218d8d55c.dir
      size: 15323887
      nfiles: 2
  feature_engineering:
    cmd: python src/features/feature_engineering.py
    deps:
    - path: data/interim
      hash: md5
      md5: e2b65a54152b0d32681a895218d8d55c.dir
      size: 15323887
      nfiles: 2
    - path: src/features/feature_engineering.py
      hash: md5
      md5: 8aff153b4e67f00042ace7a9bd4f5fdf
      size: 4098
    params:
      params.yaml:
        feature_engineering.max_features: 500
        feature_engineering.ngram_range:
        - 1
        - 2
    outs:
    - path: data/processed
      hash: md5
      md5: 39b87a78d907055a393621e51cd68d20.dir
      size: 342647895
      nfiles: 2
    - path: models/vectorizer.pkl
      hash: md5
      md5: ac6d019ac400b1ad4e7615baa3af2e72
      size: 18693
  model_building:
    cmd: python src/model/model_building.py
    deps:
    - path: data/processed
      hash: md5
      md5: 39b87a78d907055a393621e51cd68d20.dir
      size: 342647895
      nfiles: 2
    - path: src/model/model_building.py
      hash: md5
      md5: 89e2a9b1a784fca728449e553ee7a896
      size: 3367
    params:
      params.yaml:
        model_building.hyperparameters:
          logistic_regression:
            C: 1.0
            max_iter: 200
            penalty: l2
            solver: liblinear
        model_building.hyperparameters.logistic_regression.C: 1.0
        model_building.hyperparameters.logistic_regression.max_iter: 200
        model_building.hyperparameters.logistic_regression.penalty: l2
        model_building.hyperparameters.logistic_regression.solver: liblinear
        model_building.model_type: logistic_regression
    outs:
    - path: models/model.onnx
      hash: md5
      md5: 1be91037554f9e7f7de3cc9d1b288f2f
      size: 8146
  model_evaluation:
    cmd: python src/model/model_evaluation.py
    deps:
    - path: models/model.onnx
      hash: md5
      md5: 1be91037554f9e7f7de3cc9d1b288f2f
      size: 8146
    - path: src/model/model_evaluation.py
      hash: md5
      md5: 3902b99c48d057fc875bf07e64be4f66
      size: 6051
    params:
      params.yaml:
        base.experiment_name: Sentiment Analysis
        model_evaluation.metrics:
        - accuracy
        - precision
        - recall
        - f1
    outs:
    - path: reports/metrics.json
      hash: md5
      md5: 279760201a3a24e4e8bb557a9f233eb6
      size: 144
    - path: reports/model_info.json
      hash: md5
      md5: 46a21747a8d8e1be3c3a84e4c670cf05
      size: 94
  model_registration:
    cmd: python src/model/model_registry.py
    deps:
    - path: reports/model_info.json
      hash: md5
      md5: 46a21747a8d8e1be3c3a84e4c670cf05
      size: 94
    - path: src/model/model_registry.py
      hash: md5
      md5: aa9b0412e26c6ee597a3c619420a4dd8
      size: 2878
