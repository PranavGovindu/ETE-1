schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data_handling/data_ingestion.py
    deps:
    - path: src/data_handling/data_ingestion.py
      hash: md5
      md5: 83914f73ed147e526fe6282aed9e2faa
      size: 3938
    params:
      params.yaml:
        base.random_state: 42
        data_ingestion.sample_size: 150000
        data_ingestion.test_size: 0.2
    outs:
    - path: data/raw
      hash: md5
      md5: 08a000999a5a76f1e842cee502ddd586.dir
      size: 20172810
      nfiles: 2
  data_preprocessing:
    cmd: python src/data_handling/data_preprocessing.py
    deps:
    - path: data/raw
      hash: md5
      md5: 08a000999a5a76f1e842cee502ddd586.dir
      size: 20172810
      nfiles: 2
    - path: src/data_handling/data_preprocessing.py
      hash: md5
      md5: 5045cf1d49e9c9b9439af8ea9cdfdee6
      size: 2870
    params:
      params.yaml:
        data_preprocessing.lowercase: true
        data_preprocessing.remove_punctuation: true
        data_preprocessing.remove_stopwords: true
        data_preprocessing.test_path: data/raw/test.csv
        data_preprocessing.train_path: data/raw/train.csv
    outs:
    - path: data/interim
      hash: md5
      md5: e2b65a54152b0d32681a895218d8d55c.dir
      size: 15323887
      nfiles: 2
  feature_engineering:
    cmd: python src/features/feature_engineering.py
    deps:
    - path: data/interim
      hash: md5
      md5: e2b65a54152b0d32681a895218d8d55c.dir
      size: 15323887
      nfiles: 2
    - path: src/features/feature_engineering.py
      hash: md5
      md5: 56c7dd18c3104c4d9b442ff946940a09
      size: 4458
    params:
      params.yaml:
        feature_engineering.max_features: 5000
        feature_engineering.ngram_range:
        - 1
        - 2
    outs:
    - path: data/processed
      hash: md5
      md5: f0de3dcab09d4383de18b15df3176286.dir
      size: 3289424348
      nfiles: 2
    - path: models/vectorizer.pkl
      hash: md5
      md5: ffdc966f52c166683fd49a89f0c5e2de
      size: 188835
  model_building:
    cmd: python src/model/model_building.py
    deps:
    - path: data/processed
      hash: md5
      md5: f0de3dcab09d4383de18b15df3176286.dir
      size: 3289424348
      nfiles: 2
    - path: src/model/model_building.py
      hash: md5
      md5: 7f418e77872bcdd090f86662a0b7de5b
      size: 3493
    params:
      params.yaml:
        model_building.hyperparameters:
          logistic_regression:
            C: 1.0
            max_iter: 1000
            penalty: l2
            solver: liblinear
        model_building.hyperparameters.logistic_regression.C: 1.0
        model_building.hyperparameters.logistic_regression.max_iter: 1000
        model_building.hyperparameters.logistic_regression.penalty: l2
        model_building.hyperparameters.logistic_regression.solver: liblinear
        model_building.model_type: logistic_regression
    outs:
    - path: models/model.onnx
      hash: md5
      md5: dbb2bd8930993769487ab9c1c272f4e2
      size: 75649
  model_evaluation:
    cmd: python src/model/model_evaluation.py
    deps:
    - path: models/model.onnx
      hash: md5
      md5: dbb2bd8930993769487ab9c1c272f4e2
      size: 75649
    - path: src/model/model_evaluation.py
      hash: md5
      md5: 3902b99c48d057fc875bf07e64be4f66
      size: 6051
    params:
      params.yaml:
        base.experiment_name: Sentiment Analysis
        model_evaluation.metrics:
        - accuracy
        - precision
        - recall
        - f1
    outs:
    - path: reports/metrics.json
      hash: md5
      md5: e9ca186100c9acbea5b56bb1babbdcad
      size: 143
    - path: reports/model_info.json
      hash: md5
      md5: 9515c4991889d5825220235dd520bf2b
      size: 94
  model_registration:
    cmd: python src/model/model_registry.py
    deps:
    - path: reports/model_info.json
      hash: md5
      md5: 9515c4991889d5825220235dd520bf2b
      size: 94
    - path: src/model/model_registry.py
      hash: md5
      md5: aa9b0412e26c6ee597a3c619420a4dd8
      size: 2878
